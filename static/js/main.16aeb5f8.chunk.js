(this["webpackJsonpcrypto-payment-gateway-react-app"]=this["webpackJsonpcrypto-payment-gateway-react-app"]||[]).push([[0],{138:function(e,a,t){e.exports=t(156)},146:function(e,a,t){},156:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(113),l=t.n(o),c=(t(146),t(18)),s=t(10),i=t(229),m=t(225),d=t(168),u=t(217),p=t(222),E=t(228);var h=t(215).a.create({baseURL:"https://cryptopaymentgatewaybackend.azurewebsites.net/api",headers:{"Content-Type":"application/json"}});var y=()=>{const[e,a]=Object(n.useState)(""),[t,o]=Object(n.useState)(""),[l,y]=Object(n.useState)(""),g=Object(s.o)();return r.a.createElement(i.a,{component:"main",maxWidth:"sm",sx:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"#003366",fontFamily:"Montserrat, sans-serif"}},r.a.createElement(m.a,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:{xs:"95%",sm:"50%"},margin:"auto"}},r.a.createElement(d.a,{component:"h1",variant:"h5",align:"center",sx:{mb:3,color:"#003366"}},"Login"),r.a.createElement("form",{onSubmit:async a=>{a.preventDefault(),y("");try{const a=await h.post("/Auth/login",{email:e,password:t});if(200!==a.status)throw new Error("Failed to login"+a.status+a.message);localStorage.setItem("accessToken",a.data.jwtToken),console.log(a),console.log(localStorage.getItem("accessToken")),localStorage.setItem("refreshToken",a.data.refreshToken),g("/dashboard")}catch(o){var n,r;y((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to login")}},style:{width:"100%"}},r.a.createElement(u.a,{label:"Email",variant:"outlined",type:"email",value:e,onChange:e=>a(e.target.value),fullWidth:!0,margin:"normal",required:!0}),r.a.createElement(u.a,{label:"Password",variant:"outlined",type:"password",value:t,onChange:e=>o(e.target.value),fullWidth:!0,margin:"normal",required:!0}),r.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2,mb:2,bgcolor:"#003366",color:"#FAF8FC"}},"Login"),l&&r.a.createElement(d.a,{color:"error",style:{marginTop:"10px"}},l),r.a.createElement(E.a,{component:c.b,to:"/register",variant:"body2",style:{marginBottom:"20px"}},"Don't have an account? Register here"))))},g=t(233),b=t(234),v=t(212),f=t(235),x=t(236);var C=()=>{const[e,a]=Object(n.useState)(""),[t,o]=Object(n.useState)(""),[l,y]=Object(n.useState)(""),[C,w]=Object(n.useState)(""),[k,T]=Object(n.useState)(""),[D,S]=Object(n.useState)(""),[F,j]=Object(n.useState)(""),[O,A]=Object(n.useState)(!1),[I,B]=Object(n.useState)(!1),P=Object(s.o)();return r.a.createElement(i.a,{component:"main",maxWidth:"sm",sx:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(m.a,{sx:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:{xs:"95%",sm:"50%"},margin:"auto"}},r.a.createElement(d.a,{component:"h1",variant:"h5",align:"center",sx:{mb:3,color:"#003366"}},"Register"),r.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),T(""),B(!0),!/^(?=.*[A-Z])(?=.*\d).{8,}$/.test(t))return T("Password must be at least 8 characters long, include a number and an uppercase letter."),void B(!1);if(t!==l)return T("Passwords do not match."),void B(!1);try{const a=await h.post("/Auth/verify-email",{email:e});j(a.data.VerificationCode),A(!0)}catch(o){var n,r;T((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Email verification failed")}finally{B(!1)}},style:{width:"100%"}},r.a.createElement(u.a,{label:"Email",variant:"outlined",type:"email",name:"email",value:e,onChange:e=>a(e.target.value),fullWidth:!0,margin:"normal",required:!0}),r.a.createElement(u.a,{label:"Password",variant:"outlined",type:"password",name:"password",value:t,onChange:e=>o(e.target.value),fullWidth:!0,margin:"normal",required:!0}),r.a.createElement(u.a,{label:"Confirm Password",variant:"outlined",type:"password",name:"confirmPassword",value:l,onChange:e=>y(e.target.value),fullWidth:!0,margin:"normal",required:!0}),r.a.createElement(u.a,{label:"Display Name",variant:"outlined",type:"text",name:"displayName",value:C,onChange:e=>w(e.target.value),fullWidth:!0,margin:"normal",required:!0}),r.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2,mb:2,bgcolor:"#003366",color:"#FAF8FC"},disabled:I},I?r.a.createElement(g.a,{size:24}):"Register"),k&&r.a.createElement(d.a,{color:"error",style:{marginTop:"10px"}},k),r.a.createElement(E.a,{component:c.b,to:"/login",variant:"body2",style:{marginBottom:"20px"}},"Already have an account? Login here")),r.a.createElement(b.a,{open:O,onClose:()=>A(!1)},r.a.createElement(v.a,null,"Verify Email"),r.a.createElement(f.a,null,r.a.createElement(u.a,{label:"Verification Code",variant:"outlined",type:"text",value:D,onChange:e=>S(e.target.value),fullWidth:!0,margin:"normal",required:!0}),I&&r.a.createElement(g.a,{sx:{mt:2}})),r.a.createElement(x.a,null,r.a.createElement(p.a,{onClick:()=>A(!1),color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:async()=>{if(D===F)try{B(!0),await h.post("/Auth/register",{email:e,passwordHash:t,displayName:C});const a=await h.post("/Auth/login",{email:e,password:t});if(200!==a.status)throw new Error("Something went wrong, try to log in ".concat(a.status," ").concat(a.data.message));localStorage.setItem("accessToken",a.data.jwtToken),localStorage.setItem("refreshToken",a.data.refreshToken),P("/dashboard")}catch(r){var a,n;T((null===(a=r.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Registration failed")}finally{B(!1),A(!1)}else T("Verification code is incorrect.")},color:"primary",disabled:I},"Verify")))))},w=t(213),k=t(237),T=t(238),D=t(239),S=t(240),F=t(241),j=t(242),O=t(243),A=t(244),I=t(245),B=t(214),P=t(118),W=t.n(P),N=t(119),U=t.n(N),L=t(117),z=t.n(L);var H=()=>{const[e,a]=Object(n.useState)({accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken"),userId:localStorage.getItem("userId")}),t=Object(s.o)();return Object(n.useEffect)(()=>{e.accessToken?(async()=>{try{const t=await h.post("/auth/verify-token",{token:e.accessToken});if(200!==t.status||!t.data.isValid)throw new Error("Token verification failed");const n=await h.get("/auth/user-details",{headers:{Authorization:"Bearer ".concat(e.accessToken)}});localStorage.setItem("userId",n.data.id),a(e=>({...e,userId:n.data.id}))}catch(n){try{const t=await h.post("/auth/renew-token",{token:e.refreshToken});localStorage.setItem("accessToken",t.data.accessToken),a({...e,accessToken:t.data.accessToken})}catch(r){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),t("/login")}}})():t("/login")},[e.accessToken,e.refreshToken,t]),e},q=t(49);const R=e=>{let{handleLogout:a}=e;const t=Object(q.a)(),n=Object(w.a)(t.breakpoints.down("md"));return r.a.createElement(k.a,{position:"static",sx:{bgcolor:"#FAF8FC"}},r.a.createElement(T.a,null,!n&&r.a.createElement(d.a,{variant:"h6",sx:{flexGrow:1,color:"#003366"}},"Crypto Payment Gateway"),r.a.createElement(m.a,{sx:{display:"flex",flexDirection:n?"column":"row",alignItems:"center",mx:"auto"}},r.a.createElement(E.a,{component:c.b,to:"/dashboard",color:"inherit",sx:{m:3,color:"#003366"}},"Dashboard"),r.a.createElement(E.a,{component:c.b,to:"/earnings",color:"inherit",sx:{m:3,color:"#003366"}},"Earnings"),r.a.createElement(E.a,{component:c.b,to:"/profile",color:"inherit",sx:{m:3,color:"#003366"}},"Profile")),r.a.createElement(p.a,{onClick:a,variant:"contained",sx:{m:2,bgcolor:"#003366",color:"#FAF8FC"}},"Log Out")))};var G=()=>{const[e,a]=Object(n.useState)([]),[t,o]=Object(n.useState)(""),[l,u]=Object(n.useState)(!1),[y,C]=Object(n.useState)(null),[k,T]=Object(n.useState)(!0),P=H(),N=Object(s.o)();Object(n.useEffect)(()=>{P.accessToken&&(async()=>{try{const e=await h.get("/auth/user-details",{headers:{Authorization:"Bearer ".concat(P.accessToken)}}),t=await h.get("/PaymentPage/allbyuserid/".concat(e.data.id),{headers:{Authorization:"Bearer ".concat(P.accessToken)}});a(t.data)}catch(e){"No payment pages found for this user."===e.response.data&&404===e.response.status?console.log("No payment pages found for this user."):o("Failed to fetch payment pages")}finally{T(!1)}})()},[P.accessToken]);const L=()=>{u(!1)},G=Object(q.a)();Object(w.a)(G.breakpoints.down("sm"));return r.a.createElement(m.a,{sx:{bgcolor:"#FAF8FC",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",color:"#003366",fontFamily:"Montserrat, sans-serif"}},r.a.createElement(R,{handleLogout:async e=>{e.preventDefault();try{await h.post("/auth/logout",{},{headers:{Authorization:"Bearer ".concat(P.accessToken)}}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),N("/login")}catch(n){var a,t;o((null===(a=n.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Log out failed")}}}),r.a.createElement(i.a,{maxWidth:"lg",sx:{py:4}},t&&r.a.createElement(d.a,{color:"error"},t),r.a.createElement(d.a,{variant:"h4",sx:{mt:4,mb:2}},"\u041c\u043e\u0457 \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u0456 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438"),r.a.createElement(p.a,{component:c.b,to:"/create-payment-page",variant:"contained",sx:{mb:2,bgcolor:"#003366",color:"#FAF8FC"}},"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u041d\u043e\u0432\u0443 \u041f\u043b\u0430\u0442\u0456\u0436\u043d\u0443 \u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0443"),k?r.a.createElement(m.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"}},r.a.createElement(g.a,null)):0===e.length?r.a.createElement(d.a,{variant:"body1",sx:{mt:4,textAlign:"center",color:"#003366"}},'\u0412\u0438 \u0449\u0435 \u043d\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u0436\u043e\u0434\u043d\u043e\u0457 \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u043e\u0445 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438. \u0412\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0446\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u043d\u0430\u0442\u0438\u0441\u043d\u0443\u0432\u0448\u0438 "\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043d\u043e\u0432\u0443 \u043f\u043b\u0430\u0442\u0456\u0436\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443".'):r.a.createElement(m.a,{sx:{overflowX:"auto"}},r.a.createElement(D.a,{sx:{minWidth:650,bgcolor:"#FAF8FC",borderRadius:2}},r.a.createElement(S.a,null,r.a.createElement(F.a,null,r.a.createElement(j.a,{sx:{color:"#003366"}},"ID"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u041d\u0430\u0437\u0432\u0430"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u041e\u043f\u0438\u0441"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u041a-\u0442\u044c USD"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u041a-\u0442\u044c \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0438"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u0411\u043b\u0430\u0433\u043e\u0434\u0456\u0439\u043d\u0438\u0439 \u0437\u0431\u0456\u0440?"),r.a.createElement(j.a,{sx:{color:"#003366"}},"\u0414\u0456\u0457"))),r.a.createElement(O.a,null,e.map(e=>r.a.createElement(F.a,{key:e.id},r.a.createElement(j.a,{sx:{color:"#003366"}},e.id),r.a.createElement(j.a,null,r.a.createElement(E.a,{component:c.b,to:"/payment-page-transactions/".concat(e.id),sx:{color:"#003366"}},e.title)),r.a.createElement(j.a,{sx:{color:"#003366",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:150}},e.description),r.a.createElement(j.a,{sx:{color:"#003366"}},e.isDonation?"-":e.amountDetails.amountUSD),r.a.createElement(j.a,{sx:{color:"#003366"}},e.isDonation?"-":e.amountDetails.amountCrypto),r.a.createElement(j.a,{sx:{color:"#003366"}},e.amountDetails.currency.currencyCode),r.a.createElement(j.a,{sx:{color:"#003366"}},e.isDonation?"\u0422\u0430\u043a":"\u041d\u0456"),r.a.createElement(j.a,{sx:{color:"#003366",whiteSpace:"nowrap"}},r.a.createElement(A.a,{onClick:()=>window.open("/payment/".concat(e.id),"_blank"),sx:{color:"#003366"}},r.a.createElement(z.a,null)),r.a.createElement(A.a,{onClick:()=>N("/edit-payment-page/".concat(e.id)),sx:{color:"#003366"}},r.a.createElement(W.a,null)),r.a.createElement(A.a,{onClick:()=>{return a=e.id,C(a),void u(!0);var a},sx:{color:"#003366"}},r.a.createElement(U.a,null)))))))),r.a.createElement(b.a,{open:l,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(v.a,{id:"alert-dialog-title",sx:{color:"#003366"}},"Delete Payment Page"),r.a.createElement(f.a,null,r.a.createElement(I.a,{id:"alert-dialog-description",sx:{color:"#E65B40"}},"Are you sure you want to delete this payment page? This action cannot be undone.")),r.a.createElement(x.a,null,r.a.createElement(p.a,{onClick:L,sx:{color:"#003366"}},"Cancel"),r.a.createElement(p.a,{onClick:()=>(async e=>{try{await h.delete("/PaymentPage/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}),a(a=>a.filter(a=>a.id!==e)),u(!1)}catch(r){var t,n;o((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete payment page")}})(y),sx:{color:"#E65B40"},autoFocus:!0},"Delete"))),r.a.createElement(B.a,{sx:{my:4,mt:14}}),r.a.createElement(d.a,{variant:"body1",sx:{mt:4,textAlign:"center",color:"#003366"}},"\u041d\u0430\u0448 \u043f\u0440\u043e\u0435\u043a\u0442 \u043c\u0430\u0454 \u043d\u0430 \u043c\u0435\u0442\u0456 \u0441\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u0438 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0456 \u043e\u043f\u043b\u0430\u0442\u0443 \u043a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u043d\u0438\u0445 \u0440\u0430\u0445\u0443\u043d\u043a\u0456\u0432, \u0437\u0440\u043e\u0431\u0438\u0432\u0448\u0438 \u0457\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u0431\u0456\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432."),r.a.createElement(B.a,{sx:{my:4}})))},V=t(223),Y=t(219),M=t(216),J=t(224);const _=()=>{const e=Object(q.a)(),a=Object(w.a)(e.breakpoints.down("md"));return r.a.createElement(k.a,{position:"static",sx:{bgcolor:"#FAF8FC"}},r.a.createElement(T.a,null,!a&&r.a.createElement(d.a,{variant:"h6",sx:{flexGrow:1,color:"#003366"}},"Crypto Payment Gateway"),r.a.createElement(m.a,{sx:{display:"flex",flexDirection:a?"column":"row",alignItems:"center",mx:"auto"}},r.a.createElement(E.a,{component:c.b,to:"/dashboard",color:"inherit",sx:{m:3,color:"#003366"}},"Dashboard"),r.a.createElement(E.a,{component:c.b,to:"/earnings",color:"inherit",sx:{m:3,color:"#003366"}},"Earnings"),r.a.createElement(E.a,{component:c.b,to:"/profile",color:"inherit",sx:{m:3,color:"#003366"}},"Profile")),r.a.createElement(p.a,{component:c.b,to:"/dashboard",variant:"contained",sx:{m:2,bgcolor:"#003366",color:"#FAF8FC"}},"Back to Dashboard")))};var X=()=>{const{id:e}=Object(s.q)(),[a,t]=Object(n.useState)({title:"",description:"",amountUSD:"",amountCrypto:"",currencyCode:"BTC",isDonation:!1,pageId:""}),[o,l]=Object(n.useState)(""),[c,E]=Object(n.useState)(!1),y=Object(s.o)(),g=H();Object(n.useEffect)(()=>{e?(async()=>{try{const a=await h.get("/PaymentPage/".concat(e),{headers:{Authorization:"Bearer ".concat(g.accessToken)}});a.data.userId!==g.userId?y("/dashboard"):t({title:a.data.title,description:a.data.description,amountUSD:a.data.amountDetails.amountUSD,amountCrypto:a.data.amountDetails.amountCrypto,currencyCode:a.data.amountDetails.currency.currencyCode,isDonation:a.data.isDonation,pageId:e})}catch(a){console.error("Failed to fetch payment page:",a),l("Failed to fetch payment page"),y("/dashboard")}})():t(e=>({...e,pageId:-1}))},[e,g.accessToken,g.userId,y]);const C=e=>{const{name:a,value:n,checked:r,type:o}=e.target;t(e=>({...e,[a]:"checkbox"===o?r:n})),"amountCrypto"===a&&n?w(n):"amountUSD"===a&&n&&k(n)},w=async e=>{try{const n=await h.post("/PaymentPage/convertToUSD",{cryptoAmount:parseFloat(e),currencyCode:a.currencyCode},{headers:{Authorization:"Bearer ".concat(g.accessToken)}});t(e=>({...e,amountUSD:n.data.amountUSD}))}catch(o){var n,r;l("Failed to convert crypto to USD: "+(null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.Error)||!1)}},k=async e=>{try{const n=await h.post("/PaymentPage/convertToCrypto",{usdAmount:parseFloat(e),currencyCode:a.currencyCode},{headers:{Authorization:"Bearer ".concat(g.accessToken)}});t(e=>({...e,amountCrypto:n.data.amountCrypto}))}catch(o){var n,r;l("Failed to convert USD to crypto: "+(null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.Error)||!1)}};return r.a.createElement(m.a,{sx:{bgcolor:"#FAF8FC",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",color:"#003366",fontFamily:"Montserrat, sans-serif"}},r.a.createElement(_,null),r.a.createElement(i.a,{maxWidth:"lg",sx:{py:4}},r.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh",maxWidth:"sm",mx:"auto"},r.a.createElement(d.a,{variant:"h4",sx:{mt:4,mb:2}},e?"Update":"Create"," Payment Page"),o&&r.a.createElement(d.a,{color:"error"},o),r.a.createElement(m.a,{component:"form",onSubmit:async t=>{if(t.preventDefault(),a.isDonation||!(a.amountUSD<10||a.amountCrypto<1e-5))try{const t={title:a.title,description:a.description,amountUSD:a.isDonation?0:a.amountUSD,amountCrypto:a.isDonation?0:a.amountCrypto,currencyCode:a.currencyCode,isDonation:a.isDonation,pageId:a.pageId};e?await h.put("/PaymentPage/update",t,{headers:{Authorization:"Bearer ".concat(g.accessToken)}}):await h.post("/PaymentPage/create",t,{headers:{Authorization:"Bearer ".concat(g.accessToken)}}),y("/dashboard")}catch(n){l("Failed to save payment page")}else l("Amount USD must be at least 100 and Amount Crypto must be at least 0.001.")},sx:{mt:3}},r.a.createElement(u.a,{fullWidth:!0,label:"Title",name:"title",value:a.title,onChange:C,margin:"normal",required:!0}),r.a.createElement(u.a,{fullWidth:!0,label:"Description",name:"description",value:a.description,onChange:C,margin:"normal",required:!0}),r.a.createElement(V.a,{control:r.a.createElement(Y.a,{checked:a.isDonation,onChange:C,name:"isDonation",color:"primary",disabled:!!e}),label:"Is Donation"}),!a.isDonation&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{fullWidth:!0,label:"Amount USD",name:"amountUSD",value:a.amountUSD,onChange:C,margin:"normal",required:!0,disabled:!!e}),r.a.createElement(u.a,{fullWidth:!0,label:"Amount Crypto",name:"amountCrypto",value:a.amountCrypto,onChange:C,margin:"normal",required:!0,disabled:!!e})),r.a.createElement(M.a,{fullWidth:!0,label:"Currency Code",name:"currencyCode",value:a.currencyCode,onChange:C,margin:"normal",required:!0,disabled:!!e},r.a.createElement(J.a,{value:"BTC"},"BTC"),r.a.createElement(J.a,{value:"ETH"},"ETH")),r.a.createElement(p.a,{type:"submit",variant:"contained",color:"primary",sx:{mt:2,bgcolor:"#003366",color:"#FAF8FC"}},e?"Update":"Create"," Payment Page"),e&&r.a.createElement(p.a,{variant:"contained",color:"primary",sx:{mt:2,ml:2,bgcolor:"#E65B40",color:"#FAF8FC"},onClick:()=>E(!0)},"Delete Payment Page")),r.a.createElement(b.a,{open:c,onClose:()=>E(!1)},r.a.createElement(v.a,{sx:{color:"#003366"}},"Confirm Delete"),r.a.createElement(f.a,null,r.a.createElement(I.a,{sx:{color:"#E65B40"}},"Are you sure you want to delete this payment page? This action cannot be undone.")),r.a.createElement(x.a,null,r.a.createElement(p.a,{onClick:()=>E(!1),color:"primary",sx:{color:"#003366"}},"Cancel"),r.a.createElement(p.a,{onClick:async()=>{try{await h.delete("/PaymentPage/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(g.accessToken)}}),y("/dashboard")}catch(a){l("Failed to delete payment page")}},color:"secondary",sx:{color:"#E65B40"}},"Delete"))))))};const Z=e=>{let{handleLogout:a}=e;const t=Object(q.a)(),n=Object(w.a)(t.breakpoints.down("md"));return r.a.createElement(k.a,{position:"static",sx:{bgcolor:"#FAF8FC"}},r.a.createElement(T.a,null,!n&&r.a.createElement(d.a,{variant:"h6",sx:{flexGrow:1,color:"#003366"}},"Crypto Payment Gateway"),r.a.createElement(m.a,{sx:{display:"flex",flexDirection:n?"column":"row",alignItems:"center",mx:"auto"}},r.a.createElement(E.a,{component:c.b,to:"/dashboard",color:"inherit",sx:{m:3,color:"#003366"}},"Dashboard"),r.a.createElement(E.a,{component:c.b,to:"/earnings",color:"inherit",sx:{m:3,color:"#003366"}},"Earnings"),r.a.createElement(E.a,{component:c.b,to:"/profile",color:"inherit",sx:{m:3,color:"#003366"}},"Profile")),r.a.createElement(p.a,{onClick:a,variant:"contained",sx:{m:2,bgcolor:"#003366",color:"#FAF8FC"}},"Log Out")))};var $=()=>{const e=H(),[a,t]=Object(n.useState)(""),[o,l]=Object(n.useState)(""),[c,E]=Object(n.useState)(""),[y,g]=Object(n.useState)(""),[C,w]=Object(n.useState)(""),[k,T]=Object(n.useState)(""),[D,S]=Object(n.useState)(!1),[F,j]=Object(n.useState)(!1),[O,A]=Object(n.useState)(!1),[B,P]=Object(n.useState)(""),W=Object(s.o)();Object(n.useEffect)(()=>{(async()=>{try{const a=await h.get("/auth/user-details",{headers:{Authorization:"Bearer ".concat(e.accessToken)}});t(a.data.displayName),l(a.data.displayName)}catch(a){console.error("Failed to fetch user data:",a)}})()},[e.accessToken]);const N=()=>A(!1);return r.a.createElement(m.a,{sx:{bgcolor:"#FAF8FC",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",color:"#003366",fontFamily:"Montserrat, sans-serif"}},r.a.createElement(Z,{handleLogout:async a=>{a.preventDefault();try{await h.post("/auth/logout",{},{headers:{Authorization:"Bearer ".concat(e.accessToken)}}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),W("/login")}catch(r){var t,n;E((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Log out failed")}}}),r.a.createElement(i.a,{maxWidth:"lg",sx:{py:4}},r.a.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh",maxWidth:"sm",mx:"auto"},r.a.createElement(d.a,{variant:"h4",sx:{mt:4,mb:2}},"User Profile"),c&&r.a.createElement(d.a,{color:"error"},c),r.a.createElement(m.a,{component:"form",sx:{mt:3}},r.a.createElement(u.a,{fullWidth:!0,label:"Display Name",name:"displayName",value:a,onChange:e=>{t(e.target.value),S(e.target.value!==o)},margin:"normal"}),D&&r.a.createElement(p.a,{variant:"contained",sx:{mt:2,bgcolor:"#003366",color:"#FAF8FC"},onClick:()=>{P("displayName"),A(!0)}},"Save"),r.a.createElement(d.a,{variant:"h6",sx:{mt:4,mb:2}},"Change Password"),r.a.createElement(u.a,{fullWidth:!0,label:"Old Password",type:"password",name:"oldPassword",value:y,onChange:e=>g(e.target.value),margin:"normal"}),r.a.createElement(u.a,{fullWidth:!0,label:"New Password",type:"password",name:"newPassword",value:C,onChange:e=>w(e.target.value),margin:"normal"}),r.a.createElement(u.a,{fullWidth:!0,label:"Confirm New Password",type:"password",name:"confirmNewPassword",value:k,onChange:e=>T(e.target.value),margin:"normal"}),r.a.createElement(p.a,{variant:"contained",sx:{mt:2,bgcolor:"#003366",color:"#FAF8FC"},onClick:()=>{P("password"),A(!0)}},"Save Password")),r.a.createElement(b.a,{open:O,onClose:N},r.a.createElement(v.a,null,"Confirm ","displayName"===B?"Display Name Change":"Password Change"),r.a.createElement(f.a,null,r.a.createElement(I.a,null,"Are you sure you want to ","displayName"===B?"change your display name?":"change your password?")),r.a.createElement(x.a,null,r.a.createElement(p.a,{onClick:N,color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:async()=>{if("displayName"===B)try{await h.put("/auth/updateDisplayName",{displayName:a},{headers:{Authorization:"Bearer ".concat(e.accessToken)}}),S(!1),l(a)}catch(t){console.error("Failed to update display name:",t)}else if("password"===B)try{if(C!==k)throw new Error("New passwords do not match");await h.put("/auth/updatePassword",{oldPassword:y,newPassword:C},{headers:{Authorization:"Bearer ".concat(e.accessToken)}}),g(""),w(""),T(""),j(!1)}catch(t){console.error("Failed to update password:",t)}A(!1)},color:"primary"},"Confirm"))))))},K=t(227);var Q=()=>{var e,a,t,o,l;const{id:c}=Object(s.q)(),[E,y]=Object(n.useState)({}),[g,C]=Object(n.useState)(""),[w,k]=Object(n.useState)(""),[T,D]=Object(n.useState)("Copy"),[S,F]=Object(n.useState)("Copy"),[j,O]=Object(n.useState)(!1),[A,B]=Object(n.useState)(""),P=Object(s.o)();Object(n.useEffect)(()=>{c&&(async()=>{try{const e=await h.get("/PaymentPage/".concat(c));y(e.data)}catch(e){console.error("Failed to fetch payment page:",e)}})()},[c]);const W=(e,a)=>{navigator.clipboard.writeText(e).then(()=>{"address"===a?(D("Copied!"),setTimeout(()=>D("Copy"),2e3)):"crypto"===a&&(F("Copied!"),setTimeout(()=>F("Copy"),2e3))})};return r.a.createElement(i.a,{component:"main",maxWidth:"md",sx:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(K.a,{sx:{padding:4,width:"100%",textAlign:"center",backgroundColor:"#f9f9f9"}},r.a.createElement(d.a,{component:"h1",variant:"h4",color:"primary"},E.title),r.a.createElement(d.a,{component:"h2",variant:"h6",color:"textSecondary"},E.description),r.a.createElement(m.a,{sx:{mt:4}},r.a.createElement(d.a,{variant:"body1",sx:{fontWeight:"bold"}},"Cryptocurrency: ",null===(e=E.amountDetails)||void 0===e||null===(a=e.currency)||void 0===a?void 0:a.currencyCode),!E.isDonation&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"body1"},"Amount USD: ",null===(t=E.amountDetails)||void 0===t?void 0:t.amountUSD),r.a.createElement(u.a,{fullWidth:!0,label:"Amount Crypto:",value:(null===(o=E.amountDetails)||void 0===o?void 0:o.amountCrypto)||"",InputProps:{readOnly:!0,endAdornment:r.a.createElement(p.a,{onClick:()=>{var e;return W(null===(e=E.amountDetails)||void 0===e?void 0:e.amountCrypto,"crypto")}},S)},sx:{mt:2}})),r.a.createElement(u.a,{fullWidth:!0,label:"System Wallet Address",value:(null===(l=E.systemWallet)||void 0===l?void 0:l.walletNumber)||"",InputProps:{readOnly:!0,endAdornment:r.a.createElement(p.a,{onClick:()=>{var e;return W(null===(e=E.systemWallet)||void 0===e?void 0:e.walletNumber,"address")}},T)},sx:{mt:2}}),r.a.createElement(u.a,{fullWidth:!0,label:"Your Wallet Address",value:g,onChange:e=>C(e.target.value),sx:{mt:2}}),r.a.createElement(u.a,{fullWidth:!0,label:"Your Email Address",value:w,onChange:e=>k(e.target.value),sx:{mt:2}}),r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:async()=>{if(!g||!w)return B("Please provide both wallet address and email address."),void O(!0);try{const e={pageId:c,type:E.amountDetails.currency.currencyCode.toLowerCase(),fromWallet:g,toWallet:E.systemWallet.walletNumber,amountCrypto:E.amountDetails.amountCrypto,senderEmail:w,isTestnet:!0,isDonation:E.isDonation},a=await h.post("/Transaction/verify-tr",e);"not found"===a.data.status?B("Transaction not found."):"pending"===a.data.status?B("Transaction pending."):"successful"===a.data.status&&P("/thank-you",{state:{paymentPage:E,guestWalletAddress:g,senderEmailAddress:w}})}catch(e){B("Failed to verify payment.")}O(!0)},sx:{mt:2}},"Verify Payment"))),r.a.createElement(b.a,{open:j,onClose:()=>O(!1)},r.a.createElement(v.a,null,"Payment Status"),r.a.createElement(f.a,null,r.a.createElement(I.a,null,A)),r.a.createElement(x.a,null,r.a.createElement(p.a,{onClick:()=>O(!1),color:"primary"},"Close"))))};var ee=()=>{var e,a,t,n,o;const l=Object(s.m)(),{paymentPage:c,guestWalletAddress:u,payerEmail:p}=l.state||{};return r.a.createElement(i.a,{component:"main",maxWidth:"sm",sx:{marginTop:8}},r.a.createElement(K.a,{sx:{padding:4}},r.a.createElement(d.a,{component:"h1",variant:"h4",align:"center"},"Thank You for Your Payment!"),r.a.createElement(d.a,{variant:"body1",sx:{marginTop:2}},"Your payment has been successfully processed. Below are the details of your transaction:"),r.a.createElement(m.a,{sx:{marginTop:2}},r.a.createElement(d.a,{variant:"h6"},"Transaction Details"),r.a.createElement(d.a,{variant:"body1"},"Title: ",null===c||void 0===c?void 0:c.title),r.a.createElement(d.a,{variant:"body1"},"Description: ",null===c||void 0===c?void 0:c.description),r.a.createElement(d.a,{variant:"body1"},"Cryptocurrency: ",null===c||void 0===c||null===(e=c.amountDetails)||void 0===e||null===(a=e.currency)||void 0===a?void 0:a.currencyCode),r.a.createElement(d.a,{variant:"body1"},"Amount USD: ",null===c||void 0===c||null===(t=c.amountDetails)||void 0===t?void 0:t.amountUSD),r.a.createElement(d.a,{variant:"body1"},"Amount Crypto: ",null===c||void 0===c||null===(n=c.amountDetails)||void 0===n?void 0:n.amountCrypto),r.a.createElement(d.a,{variant:"body1"},"System Wallet Address: ",null===c||void 0===c||null===(o=c.systemWallet)||void 0===o?void 0:o.walletNumber),r.a.createElement(d.a,{variant:"body1"},"Your Wallet Address: ",u),r.a.createElement(d.a,{variant:"body1"},"Your Email: ",p))))},ae=t(88);const te=Object(ae.a)(i.a)(e=>{let{theme:a}=e;return{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:a.palette.background.paper,padding:a.spacing(4)}}),ne=Object(ae.a)("img")({maxWidth:"100%",height:"auto",marginBottom:"20px"});var re=()=>r.a.createElement(te,null,r.a.createElement(ne,{src:"/assets/404-illustration.png",alt:"404 Not Found"}),r.a.createElement(d.a,{variant:"h1",color:"primary",gutterBottom:!0},"404"),r.a.createElement(d.a,{variant:"h5",color:"textSecondary",paragraph:!0},"Oops! The page you're looking for doesn't exist."),r.a.createElement(d.a,{variant:"body1",color:"textSecondary",paragraph:!0},"It looks like the page you are trying to reach is either not available or has been moved."),r.a.createElement(p.a,{component:c.b,to:"/",variant:"contained",color:"primary"},"Go Back Home"));var oe=()=>{const{id:e}=Object(s.q)(),[a,t]=Object(n.useState)([]),[o,l]=Object(n.useState)(""),c=Object(s.o)(),u=H();return Object(n.useEffect)(()=>{(async()=>{try{const a=await h.get("/Transaction/bypage/".concat(e),{headers:{Authorization:"Bearer ".concat(u.accessToken)}});t(a.data)}catch(a){l("Failed to fetch transactions.")}})()},[e,u.accessToken]),r.a.createElement(i.a,{component:"main",maxWidth:"lg",sx:{mt:4,mb:4}},r.a.createElement(d.a,{variant:"h4",gutterBottom:!0},"Transactions for Payment Page ",e),o&&r.a.createElement(d.a,{color:"error"},o),r.a.createElement(D.a,null,r.a.createElement(S.a,null,r.a.createElement(F.a,null,r.a.createElement(j.a,null,"Transaction ID"),r.a.createElement(j.a,null,"From Wallet"),r.a.createElement(j.a,null,"To Wallet"),r.a.createElement(j.a,null,"Amount"),r.a.createElement(j.a,null,"Status"),r.a.createElement(j.a,null,"Timestamp"))),r.a.createElement(O.a,null,a.map(e=>r.a.createElement(F.a,{key:e.id},r.a.createElement(j.a,null,e.id),r.a.createElement(j.a,null,e.senderWalletAddress),r.a.createElement(j.a,null,e.paymentPage.systemWallet.walletNumber),r.a.createElement(j.a,null,e.actualAmountCrypto),r.a.createElement(j.a,null,e.status),r.a.createElement(j.a,null,new Date(e.blockTimestamp).toLocaleString()))))),r.a.createElement(m.a,{mt:2},r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:()=>c("/dashboard")},"Back to Dashboard")))},le=t(121),ce=t.n(le);const se=e=>{let{handleLogout:a}=e;const t=Object(q.a)(),n=Object(w.a)(t.breakpoints.down("md"));return r.a.createElement(k.a,{position:"static",sx:{bgcolor:"#FAF8FC"}},r.a.createElement(T.a,null,!n&&r.a.createElement(d.a,{variant:"h6",sx:{flexGrow:1,color:"#003366"}},"Crypto Payment Gateway"),r.a.createElement(m.a,{sx:{display:"flex",flexDirection:n?"column":"row",alignItems:"center",mx:"auto"}},r.a.createElement(E.a,{component:c.b,to:"/dashboard",color:"inherit",sx:{m:3,color:"#003366"}},"Dashboard"),r.a.createElement(E.a,{component:c.b,to:"/earnings",color:"inherit",sx:{m:3,color:"#003366"}},"Earnings"),r.a.createElement(E.a,{component:c.b,to:"/profile",color:"inherit",sx:{m:3,color:"#003366"}},"Profile")),r.a.createElement(p.a,{onClick:a,variant:"contained",sx:{m:2,bgcolor:"#003366",color:"#FAF8FC"}},"Log Out")))};var ie=()=>{const[e,a]=Object(n.useState)(null),[t,o]=Object(n.useState)([]),[l,c]=Object(n.useState)(""),[s,y]=Object(n.useState)(""),[C,w]=Object(n.useState)(""),[k,T]=Object(n.useState)(!1),[P,W]=Object(n.useState)(""),[N,U]=Object(n.useState)("BTC"),[L,z]=Object(n.useState)(""),[q,R]=Object(n.useState)(""),[G,V]=Object(n.useState)(""),[Y,M]=Object(n.useState)(!1),_=H();Object(n.useEffect)(()=>{(async()=>{try{const e=await h.get("/Earnings/view-earnings",{headers:{Authorization:"Bearer ".concat(_.accessToken)}});a(e.data)}catch(e){c("Failed to fetch earnings")}})(),(async()=>{try{const e=await h.get("/Earnings/view-withdrawal-history",{headers:{Authorization:"Bearer ".concat(_.accessToken)}});o(e.data)}catch(e){"No withdrawal history found."===e.response.data&&404===e.response.status?console.log("No withdrawals found for this user."):c("Failed to fetch withdrawals")}})()},[_.accessToken]);return r.a.createElement(m.a,{sx:{bgcolor:"#FAF8FC",minHeight:"100vh",color:"#003366",fontFamily:"Montserrat, sans-serif"}},r.a.createElement(se,{handleLogout:async e=>{e.preventDefault();try{await h.post("/auth/logout",{},{headers:{Authorization:"Bearer ".concat(_.accessToken)}}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}catch(a){c("Log out failed")}}}),r.a.createElement(i.a,{maxWidth:"lg",sx:{py:4}},l&&r.a.createElement(d.a,{color:"error"},l),r.a.createElement(d.a,{variant:"h4",sx:{mb:2,color:"#003366"}},"Earnings Information"),e&&r.a.createElement(m.a,{sx:{mb:4}},r.a.createElement(d.a,{variant:"h6"},"Total Earnings"),r.a.createElement(d.a,{variant:"body1"},"Total Earned BTC: ",e.totalEarnedBTC),r.a.createElement(d.a,{variant:"body1"},"Total Earned ETH: ",e.totalEarnedETH),r.a.createElement(d.a,{variant:"h6"},"Current Balance"),r.a.createElement(d.a,{variant:"body1"},"Current Balance BTC: ",e.currentBalanceBTC),r.a.createElement(d.a,{variant:"body1"},"Current Balance ETH: ",e.currentBalanceETH)),r.a.createElement(p.a,{variant:"contained",sx:{mb:2,bgcolor:"#003366",color:"#FAF8FC"},onClick:()=>T(!0)},"Withdraw Earnings"),r.a.createElement(B.a,{sx:{my:4}}),r.a.createElement(m.a,{sx:{display:"flex",my:2}},r.a.createElement(u.a,{label:"Start Date",type:"date",InputLabelProps:{shrink:!0},value:q,onChange:e=>R(e.target.value),sx:{mr:2}}),r.a.createElement(u.a,{label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:G,onChange:e=>V(e.target.value),sx:{mr:2}})),r.a.createElement(p.a,{variant:"contained",sx:{mb:2,bgcolor:"#003366",color:"#FAF8FC"},onClick:async()=>{try{const e=await h.get("/Earnings/generate-earnings-report",{params:{startDate:q,endDate:G},headers:{Authorization:"Bearer ".concat(_.accessToken)}}),a=new Blob([e.data],{type:"application/pdf"}),t=window.URL.createObjectURL(a),n=document.createElement("a");n.href=t,n.setAttribute("download","EarningsReport.pdf"),document.body.appendChild(n),n.click()}catch(e){c("Failed to generate report")}}},"Generate PDF Report"),r.a.createElement(B.a,{sx:{my:4}}),r.a.createElement(d.a,{variant:"h4",sx:{mb:2,color:"#003366"}},"Withdrawal History"),0===t.length?r.a.createElement(d.a,{variant:"body1"},"No withdrawals made yet."):r.a.createElement(D.a,{sx:{minWidth:650,bgcolor:"#FAF8FC",borderRadius:2}},r.a.createElement(S.a,null,r.a.createElement(F.a,null,r.a.createElement(j.a,{sx:{color:"#003366"}},"ID"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Amount"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Currency"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Status"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Requested Date"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Completed Date"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Transaction Hash"),r.a.createElement(j.a,{sx:{color:"#003366"}},"Update Status"))),r.a.createElement(O.a,null,t.map(e=>r.a.createElement(F.a,{key:e.id},r.a.createElement(j.a,{sx:{color:"#003366"}},e.id),r.a.createElement(j.a,{sx:{color:"#003366"}},e.amountDetails.amountCrypto),r.a.createElement(j.a,{sx:{color:"#003366"}},e.amountDetails.currency.currencyCode),r.a.createElement(j.a,{sx:{color:"#003366"}},e.status),r.a.createElement(j.a,{sx:{color:"#003366"}},new Date(e.requestedDate).toLocaleString()),r.a.createElement(j.a,{sx:{color:"#003366"}},e.completedDate?new Date(e.completedDate).toLocaleDateString():"Pending"),r.a.createElement(j.a,{sx:{color:"#003366"}},r.a.createElement(E.a,{href:"BTC"===e.amountDetails.currency.currencyCode?"https://live.blockcypher.com/btc-testnet/tx/".concat(e.transactionId):"https://sepolia.etherscan.io/tx/".concat(e.transactionId),target:"_blank",sx:{color:"#003366"}},"".concat(e.transactionId.slice(0,6),"..."))),r.a.createElement(j.a,null,r.a.createElement(A.a,{onClick:()=>(async e=>{try{const a=await h.get("/Earnings/check-transaction-status/".concat(e),{headers:{Authorization:"Bearer ".concat(_.accessToken)}}),t=a.data.Status,n=a.data.CompletedDate;o(a=>a.map(a=>a.id===e?{...a,status:t,completedDate:n?new Date(n):a.completedDate}:a))}catch(a){c("Failed to update transaction status")}})(e.id),sx:{color:"#003366"}},r.a.createElement(ce.a,null))))))),r.a.createElement(B.a,{sx:{my:4}}),r.a.createElement(b.a,{open:k,onClose:()=>T(!1)},r.a.createElement(v.a,null,"Withdraw Earnings"),r.a.createElement(f.a,null,r.a.createElement(I.a,null,"Enter the details to withdraw your earnings."),s&&r.a.createElement(d.a,{color:"error"},s),r.a.createElement(d.a,{variant:"body1"},"Current Balance BTC: ",e?e.currentBalanceBTC:"Loading..."),r.a.createElement(d.a,{variant:"body1"},"Current Balance ETH: ",e?e.currentBalanceETH:"Loading..."),r.a.createElement(u.a,{autoFocus:!0,margin:"dense",label:"Amount",type:"number",fullWidth:!0,value:P,onChange:e=>W(e.target.value)}),r.a.createElement(u.a,{select:!0,margin:"dense",label:"Currency",fullWidth:!0,value:N,onChange:e=>U(e.target.value)},r.a.createElement(J.a,{value:"BTC"},"BTC"),r.a.createElement(J.a,{value:"ETH"},"ETH")),r.a.createElement(u.a,{margin:"dense",label:"Wallet Address",type:"text",fullWidth:!0,value:L,onChange:e=>z(e.target.value)}),C&&r.a.createElement(d.a,{color:"error"},C),r.a.createElement(I.a,{sx:{mt:2,color:"#E65B40"}},"It's very important to paste your correct address in the correct cryptocurrency. If there's a mistake, the crypto will be lost.")),r.a.createElement(x.a,null,r.a.createElement(p.a,{onClick:()=>T(!1),color:"primary"},"Cancel"),r.a.createElement(p.a,{onClick:async()=>{if(L)if("BTC"===N&&parseFloat(P)>e.currentBalanceBTC)y("Insufficient balance. Current BTC balance: ".concat(e.currentBalanceBTC));else if("ETH"===N&&parseFloat(P)>e.currentBalanceETH)y("Insufficient balance. Current ETH balance: ".concat(e.currentBalanceETH));else{M(!0);try{await h.post("/Earnings/withdraw-earnings",{WalletNumber:L,Amount:parseFloat(P),CurrencyCode:N},{headers:{Authorization:"Bearer ".concat(_.accessToken)}}),T(!1),y(""),window.location.reload()}catch(a){y("Failed to withdraw earnings")}finally{M(!1)}}else w("Wallet address is required")},color:"primary"},Y?r.a.createElement(g.a,{size:24}):"Withdraw")))))};var me=function(){return r.a.createElement(c.a,{basename:"/cryptopay"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(y,null)}),r.a.createElement(s.a,{path:"/login",element:r.a.createElement(y,null)}),r.a.createElement(s.a,{path:"/register",element:r.a.createElement(C,null)}),r.a.createElement(s.a,{path:"/dashboard",element:r.a.createElement(G,null)}),r.a.createElement(s.a,{path:"/profile",element:r.a.createElement($,null)}),r.a.createElement(s.a,{path:"/earnings",element:r.a.createElement(ie,null)}),r.a.createElement(s.a,{path:"/create-payment-page",element:r.a.createElement(X,null)}),r.a.createElement(s.a,{path:"/edit-payment-page/:id",element:r.a.createElement(X,null)}),r.a.createElement(s.a,{path:"/payment-page-transactions/:id",element:r.a.createElement(oe,null)}),r.a.createElement(s.a,{path:"/payment/:id",element:r.a.createElement(Q,null)}),r.a.createElement(s.a,{path:"/thank-you",element:r.a.createElement(ee,null)}),r.a.createElement(s.a,{path:"*",element:r.a.createElement(re,null)})))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)))}},[[138,1,2]]]);
//# sourceMappingURL=main.16aeb5f8.chunk.js.map